<div class="loc">
    <div class="loc__left-panel column">
        <div class="card card--branch">
            <h4 class="card__title mb-5">NEUFRA Speditions GmbH</h4>
            <div class="card__address">
                <span>{{branch[0]?.address}}</span>
                <span>{{branch[0]?.city}}</span>
            </div>
            <div class="card__email">
                <span translate="locations.email"></span>
                <a [href]="'mailto:' + branch[0]?.email">{{branch[0]?.email}}</a>
            </div>
            <div class="card__phone">
                <span translate="locations.phone"></span>
                <a [href]="'tel:' + branch[0]?.phone">{{branch[0]?.phone}}</a>
            </div>
            <div class="card__fax">
                <span translate="locations.fax"></span>
                <a>{{branch[0]?.fax}}</a>
            </div>
        </div>
        <div class="card card--person">
            <h5 class="mb-20" translate="locations.branchManagement"></h5>
            <span class="mb-10">{{branch[1]?.branchLeader}}</span>
            <a class="mb-10" [href]="'tel:' + branch[1]?.phone">{{branch[1]?.phone}}</a>
            <a class="mb-10" [href]="'mailto:' + branch[1]?.email">{{branch[1]?.email}}</a>
        </div>
    </div>

    <div class="loc__right-panel">
        <mat-tab-group class="tab">
            <mat-tab [label]="'locations.nationalDisposition' | translate">
                <ng-container *ngTemplateOutlet="personelTable; context: { personelData: nationalDisposition }">
                </ng-container>
            </mat-tab>
            <mat-tab class="tab__section" [label]="'locations.internationalDisposition' | translate">
                <ng-container *ngTemplateOutlet="personelTable; context: { personelData: internationalDisposition }">
                </ng-container>
            </mat-tab>
            <mat-tab class="tab__section" [label]="'locations.management' | translate">
                <ng-container *ngTemplateOutlet="personelTable; context: { personelData: management }"></ng-container>
            </mat-tab>
            <mat-tab class="tab__section" [label]="'locations.humanResources' | translate">
                <ng-container *ngTemplateOutlet="personelTable; context: { personelData: humanResources }">
                </ng-container>
            </mat-tab>
            <mat-tab class="tab__section" [label]="'locations.accounting' | translate">
                <ng-container *ngTemplateOutlet="personelTable; context: { personelData: accounting }"></ng-container>
            </mat-tab>
            <mat-tab class="tab__section" [label]="'locations.executiveManagement' | translate">
                <ng-container *ngTemplateOutlet="personelTable; context: { personelData: executiveManagement }"></ng-container>
            </mat-tab>
        </mat-tab-group>
    </div>
</div>

<ng-template #personelTable let-personelList="personelData">
    <table class="table" cellspacing="0" cellpadding="0">
        <tr calss="row" *ngFor="let row of personelList; let i=index">
            <td>{{row.department}}</td>
            <td>
                <div *ngFor="let name of row.name">{{name}}</div>
            </td>
            <td>
                <a class="row" *ngFor="let phone of row.phone" [href]="'tel:'+ branchPhonePrefix + phone">
                    <span class="show-on-mobile">{{'locations.phone' | translate}}&nbsp;{{branchPhonePrefix}}&nbsp;</span>{{phone}}
                </a>
            </td>
            <td>
                <a class="row" *ngFor="let email of row.email" [href]="'mailto:'+email">
                    <span class="show-on-mobile">{{'locations.email' | translate}}:&nbsp;</span> {{email}}
                </a>
            </td>
        </tr>
    </table>
</ng-template>